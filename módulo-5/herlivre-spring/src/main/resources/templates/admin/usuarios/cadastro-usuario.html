<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Cadastro - usuários</title>
  <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx"
          crossorigin="anonymous"
  >
  <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
          crossorigin="anonymous">
  </script>
</head>
<body>
<div class="container px-5 py-3">
  <a class="btn btn-info" href="/admin/dashboard">Dashboard</a>
  <h3>Cadastro usuários</h3>
  <form th:object="${usuario}" action="/admin/usuario/insert" method="post" class="form-control">
    <fieldset>
      <legend>Dados do Usuário</legend>
      <p>
        <label for="nome">Nome:</label>
        <input th:field="${usuario.nome}" type="text" id="nome" name="nome" size="15" class="form-control" required>
      </p>
      <p>
        <label for="cargo">Cargo:</label>
        <select name="id_cargo" class="form-select" id="cargo" required>
          <option selected disabled value="">Escolha...</option>
          <option value="1">Administrador</option>
          <option value="2">Usuário</option>
        </select>
      </p>
      <p>
        <label for="cpf">CPF:</label>
        <input th:field="${usuario.cpf}" type="text" id="cpf" name="cpf" size="15" class="form-control" required>
      </p>
      <p>
        <label for="email">E-mail:</label>
        <input th:field="${usuario.email}" type="email" id="email" name="email" size="15" class="form-control" required>
      </p>
      <p>
        <label for="password">Senha:</label>
        <input th:field="${usuario.password}" type="password" id="password" name="password" size="15" class="form-control" required>
      </p>
      <p>
        <input type="submit" value="Cadastrar" class="btn btn-primary">
      </p>
    </fieldset>
  </form>
  <div class="overflow-auto">
  <table class="table w-100 mx-auto text-center">
    <thead>
    <tr>
      <th>Id</th>
      <th>Nome</th>
      <th>Cargo</th>
      <th>CPF</th>
      <th>E-mail</th>
      <th>Senha</th>
      <th>Ações</th>
    </tr>
    </thead>
    <tbody>
      <tr th:each="usuario : ${usuarios}">
        <td th:text="${usuario.id}"></td>
        <td th:text="${usuario.nome}"></td>
        <td th:text="${usuario.cargo.nome}"></td>
        <td th:text="${usuario.cpf}"></td>
        <td th:text="${usuario.email}"></td>
        <td th:text="${usuario.password}"></td>
        <td>
          <a th:href="@{'/admin/usuario/edit/'+${usuario.id}}" class="btn btn-success">Editar</a>
          <a th:href="@{'/admin/usuario/delete/'+${usuario.id}}" onclick="return confirm('Deseja Excluir?')"
             class="btn btn-danger"
          >Excluir</a>
        </td>
      </tr>
    </tbody>
  </table>
  </div>
</div>
</body>
</html>